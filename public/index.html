<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous" />
</head>
<!-- <body>
  <form id="editProfileForm">
    <div class="mb-3">
      <label for="inputName" class="form-label">Nombre</label>
      <input type="text" name="name" class="form-control" id="inputName">
    </div>
    <div class="mb-3">
      <label for="inputAge" class="form-label">email</label>
      <input type="email" name="email" class="form-control" id="inputEmail">
    </div>
    <div class="mb-3">
      <label for="inputPassword" class="form-label">password</label>
      <input type="password" name="password" class="form-control" id="inputPassword">
    </div>
    <div class="mb-3">
      <label for="formFile" class="form-label">Default file input example</label>
      <input class="form-control" name="avatar" type="file" id="formFile">
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
</body> -->


<body>
  Happy Api Meal

  <form id="editProfileForm">
    <div class="mb-3">
      <label for="title" class="form-label">Meal name</label>
      <input type="text" class="form-control" name="title" id="inputName"  />
    </div>

    <div class="mb-3">
      <label for="ingredients" class="form-label">ingredients</label>
      <input class="form-control" name="ingredients" type="text"  />
    </div>

  <div class="mb-3">
    <label for="recipe" class="form-label">recipe</label>
      <input class="form-control" name="recipe" type="text"  />
  </div>

  <div class="mb-3">
    <label for="UserId" class="form-label">UserId</label>
      <input class="form-control" name="UserId" type="text" />
  </div>

    <div class="mb-3">
      <label for="HappyApiMeal" class="form-label">Sube tu archivo</label>
      <input type="file" class="form-control" name="HappyApiMeal" id="formFile"  />
    </div>
    

    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
</body>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
  const editProfileForm = document.querySelector("#editProfileForm");
  editProfileForm.addEventListener("submit", async (e) => {
    e.preventDefault();
    const formData = new FormData(e.target);
     console.log(formData);
    try{
      const { data } = axios.post("http://localhost:3000/meals", formData, {
        headers: { "Content-Type": "multipart/form-data" },
        /*
        const avatar = document.querySelector('#avatar');
        avatar.src = data.path;
        */

      });
      console.log("operation was successful");
    } catch (error) {
      console.error("something went wrong");
    }
  });
</script>

</html>